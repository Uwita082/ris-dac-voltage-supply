import spidev                   # type: ignore[import]

bus = 0
device = 0
max_speed_hz = 25000000
spi = spidev.SpiDev()

spi.open(bus, device)
spi.max_speed_hz = max_speed_hz
spi.mode = 0b00  # Adjust if needed

commands = [
    [0x72, 0xFF, 0xFF, 0x00, 0x72, 0xFF, 0xFF, 0x00, 0x72, 0xFF, 0xFF, 0x00, 0x72, 0xFF, 0xFF, 0x00],
    [0x78, 0x80, 0x00, 0x00, 0x78, 0x80, 0x00, 0x00, 0x78, 0x80, 0x00, 0x00, 0x78, 0x80, 0x00, 0x00],
    [0x7C, 0x00, 0x00, 0x00, 0x7C, 0x00, 0x00, 0x00, 0x7C, 0x00, 0x00, 0x00, 0x7C, 0x00, 0x00, 0x00],
    [0x72, 0x00, 0x00, 0x00, 0x72, 0x00, 0x00, 0x00, 0x72, 0x00, 0x00, 0x00, 0x72, 0x00, 0x00, 0x00],
    [0x7B, 0x00, 0x14, 0x00, 0x7B, 0x00, 0x14, 0x00, 0x7B, 0x00, 0x14, 0x00, 0x7B, 0x00, 0x14, 0x00],
]

for command in commands:
    spi.xfer2(command)

command1 = [0x40, 0xFF, 0xF0, 0x00]
command2 = [0x40, 0x00, 0x00, 0x00]

def fast_loop():
    while True:
        spi.xfer2(command1)
        spi.xfer2(command2)


fast_loop()



